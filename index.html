<!DOCTYPE html>
<html>
<head>
	<link href="bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous" />
	<link rel="stylesheet" href="app.css" />
	<title>Map viewer</title>
</head>
<body>
	<nav>
		<div class="nav nav-tabs" id="nav-tab" role="tablist">
			<button class="nav-link active" id="nav-wad-tab" data-bs-toggle="tab" data-bs-target="#nav-wad" type="button" role="tab" aria-controls="nav-wad" aria-selected="true">Input</button>
			<button class="nav-link" id="nav-map-tab" data-bs-toggle="tab" data-bs-target="#nav-map" type="button" role="tab" aria-controls="nav-map" aria-selected="true">Map</button>
			<button class="nav-link" id="nav-things-tab" data-bs-toggle="tab" data-bs-target="#nav-things" type="button" role="tab" aria-controls="nav-things" aria-selected="true">Things</button>
		</div>
	</nav>

	<div class="tab-content" id="nav-tabContent">
		<div class="tab-pane fade show active" id="nav-wad" role="tabpanel" aria-labelledby="nav-wad-tab">
			<form id="wadsel">
				<div class="container mt=5">
					<div class="row">
						<div class="col-sm-2">
							<label for="iwad">IWAD:</label>
						</div>
						<div class="col-sm-10">
							<input type="file" id="iwad" accept=".wad" />
						</div>
					</div>
					<div class="row">
						<div class="col-sm-2">
							<label for="mapsel">Map:</label>
						</div>
						<div class="col-sm-10">
							<select id="mapsel"></select>
						</div>
					</div>
					<div class="row">
						<div class="col-sm-12">
							<span id="wad-msg"></span>
						</div>
					</div>
					<div class="row">
						<div class="col-sm-12">
							<input type="submit" value="Go!" />
						</div>
					</div>
				</div>
			</form>

			<span id="forkongithub"><a href="https://github.com/kmeaw/webwadtools">Fork me on GitHub</a></span>
		</div>

		<div class="tab-pane fade" id="nav-map" role="tabpanel" aria-labelledby="nav-map-tab">
			<form>
				<div class="container mt=5">
					<div class="row">
						<div class="col-sm-3">
							<select id="thingtype">
								<option selected value="all">Everything</option>
							</select>
						</div>
						<div class="col-sm-9">
							<select id="thing">
								<option selected value="all">Everything</option>
							</select>
						</div>
					</div>
					<div class="row">
						<div class="col-sm-12">
							<canvas id="map"></canvas>
						</div>
					</div>
				</div>
			</form>
		</div>

		<div class="tab-pane fade" id="nav-things" role="tabpanel" aria-labelledby="nav-things-tab">
			<div class="container mt=5">
				<div class="row" id="thingheader">
					<div class="col-sm-1" data-template="thing.id">ID</div>
					<div class="col-sm-3" data-template="'(<a href=# data-action=jump data-x=' + thing.x + ' data-y=' + thing.y + (thing.initial_height ? ', ' + thing.initial_height : '') + '>' + thing.x + ', ' + (-thing.y) + '</a>)'">Position</div>
					<div class="col-sm-1" data-template="thing.angle">Angle</div>
					<div class="col-sm-1" data-template="'0x' + thing.flags.toString(16).padStart(4, '0')">Flags</div>
					<div class="col-sm-1" data-template="thing.type">Type</div>
				</div>

				<div id="thinglist">
				</div>
			</div>
		</div>
	</div>
	<script src="bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
	<script type="text/javascript" src="wad.js"></script>
	<script type="text/javascript" src="app.js"></script>
</body>
</html>
